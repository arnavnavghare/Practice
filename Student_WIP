#include "StdAfx.h"
#include <iostream>
#include <vector>
#include <fstream>
#include <string>
using namespace std;

fstream out("Data.txt", ios::out | ios::app);
fstream in("Data.txt", ios::in);

class Student {
private:
	string m_name, m_rollnumber, m_grade;
	int m_index, m_mathmarks, m_sciencemarks, m_socialsciencemarks;
public:
	Student() {
	};

	void SetData() {

		cout << "Enter Name : ";
		getline(cin, m_name);
		out << m_name << ",";

		cout << "Enter Roll NUmber : ";
		getline(cin, m_rollnumber);
		out << m_rollnumber << ",";

		cout << "Enter Math Marks : ";
		cin >> m_mathmarks;
		out << m_mathmarks << ",";

		cout << "Enter Science Marks : ";
		cin >> m_sciencemarks;
		out << m_sciencemarks << ",";

		cout << "Enter Social Science Marks : ";
		cin >> m_socialsciencemarks;
		cin.ignore(1,'\n');
		out << m_socialsciencemarks  << ",";

		out << Grade()  << ",";
	}

	void GetData() {
		int index = 0;
		string line;
		while(getline(in,line)){
			index++;
			cout << index << "." << line <<endl;
		}
	}

	float Percentage() {
		float percent;
		percent = ((m_mathmarks + m_sciencemarks + m_socialsciencemarks) / 3);
		return percent;
	}

	string Grade() {
		if (Percentage() > 90) {
			m_grade = "A+";
		}
		else if (Percentage() > 80 && Percentage() <= 90) {
			m_grade = "A";
		}
		else if (Percentage() > 70 && Percentage() <= 80) {
			m_grade = "B+";
		}
		else if (Percentage() > 60 && Percentage() <= 70) {
			m_grade = "B";
		}
		else if (Percentage() > 50 && Percentage() <= 60) {
			m_grade = "C+";
		}
		else if (Percentage() > 40 && Percentage() <= 50) {
			m_grade = "C";
		}
		else {
			m_grade = "D";
		}
		return m_grade;
	}
};

	int main()
	{
		/*
		TO MAKE AN ENTRY ------------------------>
		Student std;
		std.SetData();
		*/
		
		/*
		TO CALL ALL ENTRIES ------------------------>
		string line;
		int index=0;
		int LineNumber = 4;
		while(getline(in,line,',')){
			if (index%6 == 0){
				cout<<(index/6+1)<<". ";
			}
			index++;
			cout<<'\t'<<line;
			if (index%6 == 0){
				cout<<endl;
			}
		}
		*/

		/*
		TO CALL SINGLE ELEMENT ------------------------>
		string line;
		int Index=0;
		int Row = 3;
		int column = 1;
		int Block = ((Row-1)*6)+column ;

		while(getline(in,line,',')){
			Index++;
			if(Index == Block){
				cout<<line<<endl;
			}
		}
		*/

		/*
		Student A,B,C;
		A.SetData();
		B.SetData();
		C.SetData();
		*/

		return 0;
	}
